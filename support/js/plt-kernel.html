<html>
<script src="plt-kernel.js"></script>

<script language="javascript">


function pair(a,b) { this.a = a;
this.b = b; }
            pair.prototype = new org.plt.Kernel.Struct();
pair.prototype.isEqual = function(other) {
              if (other instanceof pair) {
                return (((org.plt.Kernel.equal_question_((pair_dash_b(this)),(pair_dash_b(other)))))&&((((org.plt.Kernel.equal_question_((pair_dash_a(this)),(pair_dash_a(other)))))&&(org.plt.types.Logic.TRUE)))).isTrue();
              } else {
                return false;
              }
           } 
function make_dash_pair(id0,id1) { return new pair(id0,id1); }
function pair_dash_a(obj) { return obj.a; }
function pair_dash_b(obj) { return obj.b; }
function pair_question_(obj) { 
              return obj instanceof pair ; 
            }


org.plt.Kernel.identity((make_dash_pair((org.plt.types.Rational.makeInstance(3, 1)),(org.plt.types.Rational.makeInstance(4, 1)))));




function Posn(x, y) {
  this.x = x;
  this.y = y;
}
Posn.prototype = new org.plt.Kernel.Struct();

function makePosn(x, y) {
  return new Posn(x, y);
}


Posn.prototype.toString = function() {
  return "Point(" + this.x + ", " + this.y + ")";
}

Posn.prototype.isEqual = function(other) {
  return (other instanceof Posn) && 
         (this.x == other.x) &&
         (this.y == other.y);
}


function f(x, y) {
  return x + y;
}




function factorial(x) { return ((org.plt.Kernel._equal_(x,(org.plt.types.Rational.makeInstance(0, 1)), [])) ? ((org.plt.types.Rational.makeInstance(1, 1))) : (org.plt.Kernel._star_([x,(factorial((org.plt.Kernel.sub1(x))))]))); }








function startup() {
  var d = document.getElementById("d");

//org.plt.Kernel.identity(org.plt.Kernel.add(10,8,9));
  var p = makePosn(3, 4);
  var p2 = makePosn(3, 4);
  var p3 = makePosn(4, 21);


  d.innerHTML = ("should be true: " + (p instanceof Posn).toString() + "<br>" +
                "should be true: " + org.plt.Kernel.struct_question_(p)+ "<br>" + 
                "should be false: " + org.plt.Kernel.struct_question_(42) + "<br>" +
		"should be true: " + org.plt.Kernel.equal_question_(p, p2) + "<br>" +
                "6? " + factorial.apply(null, [org.plt.types.Rational.makeInstance(3, 1)])
                );

}
</script>


<body onload="startup()">
<p>Hello world.
<div id="d"></div>
</p>
</body>
</html>
