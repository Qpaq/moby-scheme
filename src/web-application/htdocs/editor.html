<!doctype html>
<html>
<head>
    <title>WeScheme</title>
    <style type="text/css">*:focus { outline: 0; }</style>

    <!-- begin script tags -->
    <script language="javascript">
    var _editor_url  = "/xinha/";
    var _editor_lang = "en";
    </script>
    <script type="text/javascript" src="xinha/XinhaCore.js"></script>

    <script type="text/javascript" src="xinha-config.js"></script>



<script language="javascript">
function compile() {
    var editor = xinha_editors.sourceEditor;
    var content = editor.plugins.GetCode.instance.getCode(editor);
    var form = document.createElement("form");
    form.setAttribute("method", "post");
    form.setAttribute("action", "/js-compile/world.html")
    var hiddenField = document.createElement("input");
    hiddenField.setAttribute("type", "hidden");
    hiddenField.setAttribute("name", "program");
    hiddenField.setAttribute("value", content);
    form.appendChild(hiddenField);

    document.body.appendChild(form);
    form.submit();
}
</script>





    <!-- end script tags -->
</head>
<body>
    <h3>WeScheme</h3>

    <div style="padding: 20px">
      <input type="button" value="Run" onclick="compile()">
    </div>


    <textarea id="sourceEditor" style="width: 100%; height: 100%">;; Enter your world program here.
(require (lib "world.ss" "moby" "stub"))

(define WIDTH 320)
(define HEIGHT 480)

(define INITIAL-WORLD 0)

(define (draw w)
  (empty-scene WIDTH HEIGHT))

(big-bang WIDTH HEIGHT INITIAL-WORLD
          (on-redraw draw))
</textarea>

</body>
</html>
