<html><head><title>WebIt! Reference Manual</title><meta name="generator" content="WebIt!" /><meta name="robots" content="index,follow" /><link rel="stylesheet" href="./default.css" type="text/css" /></head><body><p /><div align="right" class="navigation">[Go to <a href="./index.html">first</a>, <a href="./node_5.html">previous</a>, <a href="./node_7.html">next</a> page; <a href="./index.html#toc_start">contents</a>]</div><div><a name="container_235" /><h1><a href="./index.html#toc_container_235">5&nbsp;XML Infoset Mapping</a></h1><p>WebIt! implements an abstract datatype for the XML Infoset, in terms of the API described in this section. The concrete datatype used by this API is SXML.</p><div><a name="container_236" /><h2><a href="./index.html#toc_container_236">5.1&nbsp;Normalized and Non-Normalized SXML</a></h2><div><a name="container_237" /><h3><a href="./index.html#toc_container_237">5.1.1&nbsp;<code class="scheme"><span class="variable">normalized-sxml</span></code></a></h3><p><em>parameter</em></p><p>By default, WebIt! functions and syntax can process non-normalized SXML. However, there is a performance penalty for this. <code class="scheme"><span class="variable">normalized-sxml</span></code> may be used to restrict WebIt! to processing a particular style of normalized SXML. The default value of <code class="scheme"><span class="selfeval">#f</span></code> enables processing of non-normalized SXML. Set this parameter to <code class="scheme"><span class="selfeval">#t</span></code> to restrict WebIt! to normalized SXML.</p></div></div><div><a name="container_238" /><h2><a href="./index.html#toc_container_238">5.2&nbsp;Constructing and Analyzing XML Document Nodes</a></h2><div><a name="container_239" /><h3><a href="./index.html#toc_container_239">5.2.1&nbsp;<code class="scheme"><span class="variable">make-xml-document</span></code></a></h3><p><em>function</em></p><pre>make-xml-document :: list-of-nodes -&gt; xml-document</pre><p>This function construction a document node from a list of nodes. The list should include exactly one xml-element node.</p></div><div><a name="container_240" /><h3><a href="./index.html#toc_container_240">5.2.2&nbsp;<code class="scheme"><span class="variable">xml-document?</span></code></a></h3><p><em>function</em></p><pre>xml-document? :: node -&gt; boolean</pre><p>Returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is an xml-document node, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_241" /><h3><a href="./index.html#toc_container_241">5.2.3&nbsp;<code class="scheme"><span class="variable">xml-document-dtd-info</span></code></a></h3><p><em>function</em></p><pre>xml-document-dtd-info :: xml-document -&gt; xml-dtd-info</pre><p>Returns the document's xml-dtd-info, if one is present, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_242" /><h3><a href="./index.html#toc_container_242">5.2.4&nbsp;<code class="scheme"><span class="variable">xml-document-content</span></code></a></h3><p><em>function</em></p><pre>xml-document-content :: xml-document -&gt; xml-element</pre><p>Returns the document's root element.</p></div><div><a name="container_243" /><h3><a href="./index.html#toc_container_243">5.2.5&nbsp;<code class="scheme"><span class="variable">xml-document-body</span></code></a></h3><p><em>function</em></p><pre>xml-document-content :: xml-document -&gt; nodeset</pre><p>Returns a list of the document's body nodes.</p></div></div><div><a name="container_244" /><h2><a href="./index.html#toc_container_244">5.3&nbsp;Constructing and Analyzing XML Element Nodes</a></h2><div><a name="container_245" /><h3><a href="./index.html#toc_container_245">5.3.1&nbsp;<code class="scheme"><span class="variable">make-xml-element</span></code></a></h3><p><em>function</em></p><pre>make-xml-element :: tag attribute-list node-list -&gt; xml-element</pre><p>The element tag is a symbol.</p><p>The attribute-list is a list of attribute nodes: a list of an attribute tag and a string, number or boolean.</p><p>A node-list is a (possibly null) list of XML nodes.</p></div><div><a name="container_246" /><h3><a href="./index.html#toc_container_246">5.3.2&nbsp;<code class="scheme"><span class="variable">make-xml-element/ns</span></code></a></h3><p><em>function</em></p><pre>make-xml-element/ns :: tag ns-list attribute-list node-list -&gt; xml-element</pre><p>The element tag, tag, is a symbol.</p><p>ns-list is a list of namespace bindings. Each namespace binding is a list of a namespace uri (string) and a prefix (symbol).</p><p>The attribute-list is a list of attribute nodes: a list of an attribute tag and a string, number or boolean.</p><p>A node-list is a (possibly null) list of XML nodes.</p></div><div><a name="container_247" /><h3><a href="./index.html#toc_container_247">5.3.3&nbsp;<code class="scheme"><span class="variable">xml-element?</span></code></a></h3><p><em>function</em></p><pre>xml-element? :: node -&gt; boolean</pre><p>Returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is an xml-element node, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_248" /><h3><a href="./index.html#toc_container_248">5.3.4&nbsp;<code class="scheme"><span class="variable">xml-element-tag</span></code></a></h3><p><em>function</em></p><pre>xml-element-tag :: xml-element -&gt; symbol</pre><p>Returns the tag (symbol) of an element node. This tag is either the local name of the element (for locally named element), or the concatenation of the namespace URI to which the element belongs and the element's local name, separated by a colon.</p></div><div><a name="container_249" /><h3><a href="./index.html#toc_container_249">5.3.5&nbsp;<code class="scheme"><span class="variable">xml-element-local-name</span></code></a></h3><p><em>function</em></p><pre>xml-element-local-name :: xml-element -&gt; symbol</pre><p>Returns the local-name (symbol) of an element node.</p></div><div><a name="container_250" /><h3><a href="./index.html#toc_container_250">5.3.6&nbsp;<code class="scheme"><span class="variable">xml-element-ns-uri</span></code></a></h3><p><em>function</em></p><pre>xml-element-local-name :: xml-element -&gt; symbol</pre><p>Returns the namespace URI to which the element belongs, <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_251" /><h3><a href="./index.html#toc_container_251">5.3.7&nbsp;<code class="scheme"><span class="variable">xml-element-ns-list</span></code></a></h3><p><em>function</em></p><pre>xml-element-ns-list :: xml-element -&gt; (listof xml-namespace-binding)</pre><p>Returns a list of namespace prefix bindings associated with this element.</p></div><div><a name="container_252" /><h3><a href="./index.html#toc_container_252">5.3.8&nbsp;<code class="scheme"><span class="variable">xml-element-attributes</span></code></a></h3><p><em>function</em></p><pre>xml-element-attributes :: xml-element -&gt; (listof xml-attribute)</pre><p>Returns a list of attributes of this element.</p></div><div><a name="container_253" /><h3><a href="./index.html#toc_container_253">5.3.9&nbsp;<code class="scheme"><span class="variable">xml-element-contents</span></code></a></h3><p><em>function</em></p><pre>xml-element-contents :: xml-element -&gt; (listof node)</pre><p>Returns a nodeset of the children of this element.</p></div></div><div><a name="container_254" /><h2><a href="./index.html#toc_container_254">5.4&nbsp;Constructing and Analyzing XML Attribute Nodes</a></h2><div><a name="container_255" /><h3><a href="./index.html#toc_container_255">5.4.1&nbsp;<code class="scheme"><span class="variable">make-xml-attribute</span></code></a></h3><p><em>function</em></p><pre>make-xml-attribute :: tag value -&gt; (list-of symbol string|number|boolean)</pre><p>The attribute tag is a symbol.</p><p>The value of an attribute may be a string, number or boolean.</p></div><div><a name="container_256" /><h3><a href="./index.html#toc_container_256">5.4.2&nbsp;<code class="scheme"><span class="variable">xml-attribute-tag</span></code></a></h3><p><em>function</em></p><pre>xml-attribute-tag :: xml-attribute -&gt; symbol</pre><p>Returns the tag (symbol) of an attribute node. This tag is either the local name of the attribute (for locally named attributes), or the concatenation of the namespace URI to which the attribute belongs and the attribute's local name, separated by a colon.</p></div><div><a name="container_257" /><h3><a href="./index.html#toc_container_257">5.4.3&nbsp;<code class="scheme"><span class="variable">xml-attribute-local-name</span></code></a></h3><p><em>function</em></p><pre>xml-attribute-local-name :: xml-attribute -&gt; symbol</pre><p>Returns the local-name (symbol) of an attribute node.</p></div><div><a name="container_258" /><h3><a href="./index.html#toc_container_258">5.4.4&nbsp;<code class="scheme"><span class="variable">xml-attribute-ns-uri</span></code></a></h3><p><em>function</em></p><pre>xml-attribute-local-name :: xml-attribute -&gt; symbol</pre><p>Returns the namespace URI to which the attribute belongs, <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_259" /><h3><a href="./index.html#toc_container_259">5.4.5&nbsp;<code class="scheme"><span class="variable">xml-attribute-value</span></code></a></h3><p><em>function</em></p><pre>xml-attribute-value :: xml-attribute -&gt; string|number|boolean</pre><p>Returns the value of an attribute node.</p></div></div><div><a name="container_260" /><h2><a href="./index.html#toc_container_260">5.5&nbsp;Constructing and Analyzing XML Comment Nodes</a></h2><div><a name="container_261" /><h3><a href="./index.html#toc_container_261">5.5.1&nbsp;<code class="scheme"><span class="variable">make-xml-comment</span></code></a></h3><p><em>function</em></p><pre>make-xml-comment :: string -&gt; xml-comment</pre><p>This function constructs an xml-comment object with its argument as the comment text.</p></div><div><a name="container_262" /><h3><a href="./index.html#toc_container_262">5.5.2&nbsp;<code class="scheme"><span class="variable">xml-comment?</span></code></a></h3><p><em>function</em></p><pre>xml-comment? :: node -&gt; boolean</pre><p>This function returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is an xml-comment, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_263" /><h3><a href="./index.html#toc_container_263">5.5.3&nbsp;<code class="scheme"><span class="variable">xml-comment-text</span></code></a></h3><p><em>function</em></p><pre>xml-comment-text :: xml-comment -&gt; string</pre><p>Returns the text of an xml-comment node.</p></div></div><div><a name="container_264" /><h2><a href="./index.html#toc_container_264">5.6&nbsp;Constructing and Analyzing XML Processing Instruction Nodes</a></h2><div><a name="container_265" /><h3><a href="./index.html#toc_container_265">5.6.1&nbsp;<code class="scheme"><span class="variable">make-xml-pi</span></code></a></h3><p><em>function</em></p><pre>make-xml-pi :: symbol string -&gt; xml-pi</pre><p>This function has to arguments: a PI target (symbol) and PI text (a string). Returns a new xml-pi object.</p></div><div><a name="container_266" /><h3><a href="./index.html#toc_container_266">5.6.2&nbsp;<code class="scheme"><span class="variable">xml-pi?</span></code></a></h3><p><em>function</em></p><pre>xml-pi? :: node -&gt; boolean</pre><p>This function returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is an xml-comment, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_267" /><h3><a href="./index.html#toc_container_267">5.6.3&nbsp;<code class="scheme"><span class="variable">xml-pi-target</span></code></a></h3><p><em>function</em></p><pre>xml-pi-target :: xml-pi -&gt; symbol</pre><p>This function returns it's argument's PI target.</p></div><div><a name="container_268" /><h3><a href="./index.html#toc_container_268">5.6.4&nbsp;<code class="scheme"><span class="variable">xml-pi-text</span></code></a></h3><p><em>function</em></p><pre>xml-pi-text :: xml-pi -&gt; symbol</pre><p>This function returns it's argument's PI text.</p></div></div><div><a name="container_269" /><h2><a href="./index.html#toc_container_269">5.7&nbsp;Constructing and Analyzing XML Entity Nodes</a></h2><div><a name="container_270" /><h3><a href="./index.html#toc_container_270">5.7.1&nbsp;<code class="scheme"><span class="variable">make-xml-entity</span></code></a></h3><p><em>function</em></p><pre>make-xml-entity :: string string -&gt; xml-entity</pre><p>This function takes two arguments of type string: a public-id and a system-id, and a returns a new xml-entity object.</p></div><div><a name="container_271" /><h3><a href="./index.html#toc_container_271">5.7.2&nbsp;<code class="scheme"><span class="variable">xml-entity?</span></code></a></h3><p><em>function</em></p><pre>xml-entity? :: node -&gt; boolean</pre><p>This function returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is an xml-entity, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_272" /><h3><a href="./index.html#toc_container_272">5.7.3&nbsp;<code class="scheme"><span class="variable">xml-entity-public-id</span></code></a></h3><p><em>function</em></p><pre>xml-entity-public-id :: xml-entity -&gt; string</pre><p>This function returns it's argument's public-id.</p></div><div><a name="container_273" /><h3><a href="./index.html#toc_container_273">5.7.4&nbsp;<code class="scheme"><span class="variable">xml-entity-system-id</span></code></a></h3><p><em>function</em></p><pre>xml-entity-system-id :: xml-entity -&gt; string</pre><p>This function returns it's argument's system-id.</p></div></div><div><a name="container_274" /><h2><a href="./index.html#toc_container_274">5.8&nbsp;Constructing and Analyzing XML Namespace Binding Nodes</a></h2><div><a name="container_275" /><h3><a href="./index.html#toc_container_275">5.8.1&nbsp;<code class="scheme"><span class="variable">make-xml-ns-binding</span></code></a></h3><p><em>function</em></p><pre>make-xml-ns-binding :: symbol string -&gt; (list symbol string)</pre><p>This function takes two arguments: a namespace prefix (symbol) and a namespace URI (string), and returns a new namespace prefix binding.</p></div><div><a name="container_276" /><h3><a href="./index.html#toc_container_276">5.8.2&nbsp;<code class="scheme"><span class="variable">xml-ns-binding-prefix</span></code></a></h3><p><em>function</em></p><pre>xml-ns-binding-prefix :: (list symbol string) -&gt; symbol</pre><p>This function returns the namespace prefix from its argument.</p></div><div><a name="container_277" /><h3><a href="./index.html#toc_container_277">5.8.3&nbsp;<code class="scheme"><span class="variable">xml-ns-binding-ns-url</span></code></a></h3><p><em>function</em></p><pre>xml-ns-binding-ns-url :: (list symbol string) -&gt; string</pre><p>This function returns the namespace URI from its argument.</p></div></div><div><a name="container_278" /><h2><a href="./index.html#toc_container_278">5.9&nbsp;Constructing and Analyzing DTD Information Nodes</a></h2><div><a name="container_279" /><h3><a href="./index.html#toc_container_279">5.9.1&nbsp;<code class="scheme"><span class="variable">make-xml-dtd-info</span></code></a></h3><p><em>function</em></p><pre>make-xml-dtd-info :: symbol string -&gt; xml-dtd-info</pre><p>This function takes two arguments: a name (symbol) and a system (string). Returns a new xml-dtd-info object.</p></div><div><a name="container_280" /><h3><a href="./index.html#toc_container_280">5.9.2&nbsp;<code class="scheme"><span class="variable">xml-dtd-info?</span></code></a></h3><p><em>function</em></p><pre>xml-dtd-info? :: node -&gt; boolean</pre><p>This function returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is an xml-dtd-info or xml-dtd-info/public object, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_281" /><h3><a href="./index.html#toc_container_281">5.9.3&nbsp;<code class="scheme"><span class="variable">xml-dtd-info-name</span></code></a></h3><p><em>function</em></p><pre>xml-dtd-info-name :: xml-dtd-info -&gt; symbol</pre><p>This function returns it's argument's name field.</p></div><div><a name="container_282" /><h3><a href="./index.html#toc_container_282">5.9.4&nbsp;<code class="scheme"><span class="variable">xml-dtd-info-system</span></code></a></h3><p><em>function</em></p><pre>xml-dtd-info-system :: xml-dtd-info -&gt; string</pre><p>This function returns it's argument's system field.</p></div><div><a name="container_283" /><h3><a href="./index.html#toc_container_283">5.9.5&nbsp;<code class="scheme"><span class="variable">make-xml-dtd-info/public</span></code></a></h3><p><em>function</em></p><pre>make-xml-dtd-info/public :: symbol string string -&gt; xml-dtd-info/public</pre><p>This function takes three arguments: a name (symbol), a system (string), and a public (string). Returns a new xml-dtd-info/public object.</p></div><div><a name="container_284" /><h3><a href="./index.html#toc_container_284">5.9.6&nbsp;<code class="scheme"><span class="variable">xml-dtd-info/public?</span></code></a></h3><p><em>function</em></p><pre>xml-dtd-info/public? :: node -&gt; boolean</pre><p>This function returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is an xml-dtd-info/public, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_285" /><h3><a href="./index.html#toc_container_285">5.9.7&nbsp;<code class="scheme"><span class="variable">xml-dtd-info/public-public</span></code></a></h3><p><em>function</em></p><pre>xml-dtd-info/public-public :: xml-dtd-info/public -&gt; string</pre><p>This function returns it's argument's public field.</p></div></div><div><a name="container_286" /><h2><a href="./index.html#toc_container_286">5.10&nbsp;Miscellaneous</a></h2><div><a name="container_287" /><h3><a href="./index.html#toc_container_287">5.10.1&nbsp;<code class="scheme"><span class="variable">nodeset?</span></code></a></h3><p><em>function</em></p><pre>nodeset? :: any -&gt; boolean</pre><p>This function returns <code class="scheme"><span class="selfeval">#t</span></code> if its argument is a list which does not begin with a symbol, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_288" /><h3><a href="./index.html#toc_container_288">5.10.2&nbsp;<code class="scheme"><span class="variable">has-attribute?</span></code></a></h3><p><em>function</em></p><pre>has-attribute? :: symbol (listof xml-attribute) -&gt; (xml-attribute | #f)</pre><p>This function searches a list of attributes for the for the requested attribute. Returns the matching attribute, otherwise <code class="scheme"><span class="selfeval">#f</span></code>.</p></div><div><a name="container_289" /><h3><a href="./index.html#toc_container_289">5.10.3&nbsp;<code class="scheme"><span class="keyword">bind-namespaces</span></code></a></h3><p><em>syntax</em></p><p>This form is used to introduce namespace prefix bindings, and to attach these bindings to an xml-element object.</p><p>The grammar for <code class="scheme"><span class="keyword">bind-namespaces</span></code> is:</p><pre>(bind-namespaces ([prefix-symbol uri-string] ...)
   expression)</pre><p>Expression must evaluate to an xml-element. <code class="scheme"><span class="keyword">bind-namespaces</span></code> returns a new xml-element object, with the new namespace prefix bindings.</p></div></div></div><p style="margin-top:24pt;">&nbsp;</p><p /><div align="right" class="navigation">[Go to <a href="./index.html">first</a>, <a href="./node_5.html">previous</a>, <a href="./node_7.html">next</a> page; <a href="./index.html#toc_start">contents</a>]</div><p>&nbsp;</p><div class="collophon" align="right">Last modified: Sunday, April 24th, 2005 2:52:27pm<br />HTML generated using <a href="http://celtic.benderweb.net/webit/">WebIt!</a>.</div></body></html>